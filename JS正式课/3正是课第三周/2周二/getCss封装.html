<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
        }
        #box{
            width: 100px;
            height: 100px;
            opacity: .1;
            filter: alpha(opacity=10);
        }


    </style>
</head>
<body>
<div id="box"></div>
<script>
    var oDiv = document.getElementById('box');
  /*  function getCss(curEle,attr){
        var val = null;
        var reg = null;
        if ('getComputedStyle' in window){
            val = getComputedStyle(curEle,null)[attr];
        }else{//对透明度的处理
            if(attr==='opacity'){
                val = curEle.currentStyle['filter'];
                reg = /^alpha\(opacity[=:](\d+(\.\d+)?)\)$/;
                return reg.test(val)?reg.exec(val)[1]/100:1;
            }else {
                val = curEle.currentStyle[attr];
            }
        }
        reg = /^(left|right|top|bottom|width|height)|((margin|padding)(left|right|top|bottom))$/gi;
        return reg.test(attr)?parseFloat(val):val;
    }*/


    function getCss(curEle,attr){
        var val = null;
        var reg = null;
        if('getComputedStyle' in window){
            val = getComputedStyle(curEle.null)[attr];
        }else {
            if (attr ==='opacity'){
                val = curEle.currentStyle['filter'];
                reg = /^alpha\(opacity[=:](\d+)(\.\d+)?\)$/;
                return reg.test(val)?reg.exec(val)[1]/100:1;
            }else {
                val = curEle.currentStyle[attr];
            }
        }
        reg = /(left|right|top|bottom|width|heght|((margin|padding)(left|right|top|bottom)?))/gi;
        return reg.test(attr)?parseFloat(val):val;
    }






    alert(getCss(oDiv,'opacity'))








</script>
</body>
</html>